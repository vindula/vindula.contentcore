<html metal:use-macro="here/main_template/macros/master">
	<head>
		<metal:styleslot fill-slot="style_slot">
    		<link rel="stylesheet" href="" type="text/css" tal:attributes="href string:${view/static}/css/form_style.css">
		</metal:styleslot>
	</head>
	<body>
		<div metal:fill-slot="main">
		    <div>
				<div id="interna-form" >    		
					<fieldset>
		            	<legend>Exportar registro</legend>
						<a alt="exportar registro" title="exportar registro"
						   tal:attributes="href string:${context/absolute_url|nothing}/export-form">Exportar registro existentes via csv</a>

					</fieldset>
					<fieldset>
		            	<legend>Relat&oacute;rio dos registro</legend>
						<a alt="exportar relatorio" title="exportar relatorio"
						   tal:attributes="href string:${context/absolute_url|nothing}/relatorio-form">Gerar relat&oacute;rio os registros existentes</a>

					</fieldset>
					<fieldset>
		            	<legend>Vis√£o Quadro de Avisos</legend>
						<a alt="Quadro de Avisos" title="Quadro de Avisos"
						   tal:attributes="href string:${context/absolute_url|nothing}/myvindula-avisos-view">Ver Quadro de Avisos</a>

					</fieldset>
					
					<fieldset>
		            	<legend>Listagems do registros</legend>
						<table width="100%">
							<tr tal:define="fields python:view.get_Form_fields()">
								<tal:rep repeat="campo fields|nothing">
									<th tal:condition="campo/flag_ativo|nothing"
										tal:content="campo/title|nothing" />	
								</tal:rep>
								<th width="10%">Editar Registro</th>
								<th width="10%">Excluir Registro</th>
							</tr>
							<tal:rep repeat="item python:view.get_FormValues()">
								<tr tal:define="i repeat/item/even|nothing" 
									tal:attributes="class python: i and 'even' or 'odd'">
									<tal:def tal:define="fields python:view.get_Form_fields()">
										<tal:rep repeat="campo fields|nothing">
											<tal:cond condition="campo/flag_ativo|nothing">
												<tal:def tal:define="data python: item.find(fields=campo.name_field).one()">

													<td tal:define="tipo campo/type_fields|nothing;
																	valor data/value|nothing;
																	valor_blob data/value_blob|nothing;
																	id_campo data/id|nothing;"
														tal:content="structure python:view.geraHTMLContent(id_campo,tipo,valor)"></td>
													
												</tal:def>
											</tal:cond>
										</tal:rep>
									</tal:def>
									<td width="10%">
										<a tal:attributes="href python:context.absolute_url()+'?id_instance='+str(item[0].instance_id)"
											alt="Editar registro" title="Editar registro">
											Editar</a>
									</td>
									<td width="10%">
										<a tal:attributes="href python:context.absolute_url()+'/excluir-registro-form'+'?id_instance='+str(item[0].instance_id)"
											alt="Excluir registro" title="Excluir registro">
											Excluir</a>
									</td>
								</tr>
							</tal:rep>		
						</table>
					</fieldset>
				</div>
		    </div>
		</div>  
	</body>
</html>