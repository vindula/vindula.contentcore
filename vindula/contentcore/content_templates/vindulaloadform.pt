<html metal:use-macro="here/main_template/macros/master">
	<head>
		<metal:styleslot fill-slot="style_slot">
    		<link rel="stylesheet" href="" type="text/css" tal:attributes="href string:${view/static}/form_style.css">
		</metal:styleslot>
	</head>
	<body >
		<div metal:fill-slot="main" >
		    <meta:macro metal:define-macro="page-view">
				<div id="interna" tal:define="view python:context.restrictedTraverse('@@load-form');
									  form_data view/load_form | python:{}; errors form_data/errors | python:{};
							  		  form_values form_data/data | python:{};">    		
			        <form name="load-form" id="load-form" enctype="multipart/form-data" 
						  class="enableAutoFocus" tal:attributes="action string:${context/absolute_url|nothing}/load-form" method="POST">
						<!-- Id Form-->
						<input type="hidden" name="forms_id" id="forms_id" value="" tal:attributes="value context/forms_id|nothing"> 
						<!-- Id instancia -->
						<input tal:condition="request/id_instance|nothing" 
							   type="hidden" name="id_instance" id="id_instance" value="" tal:attributes="value request/id_instance|nothing">
						
			            <fieldset tal:condition="python:form_data!={}">
			            	<legend>Adicionar Novo Registro</legend>
							<tal:def define="html python:view.geraCampos(form_data)">
								<tal:rep repeat="x html">
									<div tal:content="structure x"/>
								</tal:rep>
							</tal:def>

						</fieldset>	
						<!-- Botões de ação -->	 	
					   	<fieldset>
					   		<br/>
							<div style="float:left; width:100%">
								<input tal:condition="request/id_instance|nothing"
										style="width:100px" class="button-erp" type="submit" value="Voltar" name="form.voltar">
								<input style="width:100px;" class="button-erp" type="submit" value="Salvar" name="form.submited">
							</div>
						</fieldset>
					</form>
				</div>
			</meta:macro>
		</div>  
	</body>
</html>